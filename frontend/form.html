<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <title>Ná»™p há»“ sÆ¡ doanh nghiá»‡p</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- CSS riÃªng -->
  <link rel="stylesheet" href="./css/form.css">
</head>

<body class="bg-light">
  <!-- Navbar giá»‘ng index.html -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary px-4">
    <a class="navbar-brand fw-bold" href="index.html">ğŸ£ ÄÄ‚NG KÃ DOANH NGHIá»†P</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarContent">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-center">
        <li class="nav-item"><a href="index.html" class="nav-link text-white">Trang chá»§</a></li>
        <li class="nav-item"><a href="components/gioi-thieu.html" class="nav-link text-white">Giá»›i thiá»‡u</a></li>
        <li class="nav-item"><a href="components/dich-vu-cong.html" class="nav-link text-white">Dá»‹ch vá»¥ cÃ´ng</a></li>
        <li class="nav-item"><a href="components/ho-tro.html" class="nav-link text-white">Há»— trá»£</a></li>
        <li class="nav-item"><a href="components/van-ban-phap-luat.html" class="nav-link text-white">VÄƒn báº£n phÃ¡p luáº­t</a></li>
      </ul>

      <form class="d-flex ms-3 me-2" role="search">
        <input class="form-control form-control-sm" type="search" placeholder="TÃ¬m kiáº¿m..." aria-label="Search">
      </form>

      <a href="login.html" class="btn btn-outline-light btn-sm me-2">ÄÄƒng nháº­p</a>
      <a href="register.html" class="btn btn-light btn-sm">ÄÄƒng kÃ½</a>
    </div>
  </nav>

  <!-- Form nháº­p há»“ sÆ¡ -->
<div class="container my-5">
  <h2 class="text-center mb-4">ğŸ“„ Ná»™p há»“ sÆ¡ Ä‘Äƒng kÃ½ doanh nghiá»‡p</h2>
  <form id="companyForm" class="bg-white p-4 rounded shadow-sm">
    <div class="mb-3">
      <label for="TenDoanhNghiep" class="form-label">TÃªn doanh nghiá»‡p:</label>
      <input type="text" class="form-control" id="TenDoanhNghiep" name="TenDoanhNghiep" required>
    </div>

    <div class="mb-3">
      <label for="MaSoThue" class="form-label">MÃ£ sá»‘ thuáº¿:</label>
      <input type="text" class="form-control" id="MaSoThue" name="MaSoThue" required>
    </div>

    <div class="mb-3">
      <label for="DiaChiTruSo" class="form-label">Äá»‹a chá»‰ trá»¥ sá»Ÿ:</label>
      <input type="text" class="form-control" id="DiaChiTruSo" name="DiaChiTruSo" required>
    </div>

    <div class="mb-3">
      <label for="NguoiDaiDien" class="form-label">NgÆ°á»i Ä‘áº¡i diá»‡n:</label>
      <input type="text" class="form-control" id="NguoiDaiDien" name="NguoiDaiDien" required>
    </div>

    <div class="mb-3">
      <label for="SoDienThoai" class="form-label">Sá»‘ Ä‘iá»‡n thoáº¡i:</label>
      <input type="tel" class="form-control" id="SoDienThoai" name="SoDienThoai" required>
    </div>

    <div class="mb-3">
      <label for="EmailLienHe" class="form-label">Email liÃªn há»‡:</label>
      <input type="email" class="form-control" id="EmailLienHe" name="EmailLienHe" required>
    </div>

    <div class="mb-3">
      <label for="GhiChu" class="form-label">Ghi chÃº (tuá»³ chá»n):</label>
      <textarea class="form-control" id="GhiChu" name="GhiChu" rows="3"></textarea>
    </div>

    <div class="mb-3">
      <label for="file" class="form-label">Táº£i lÃªn há»“ sÆ¡ (PDF/áº¢nh â‰¤ 5MB):</label>
      <input type="file" class="form-control" id="file" name="file" accept=".pdf,image/*" required>
    </div>

    <button type="submit" class="btn btn-primary w-100">Gá»­i há»“ sÆ¡</button>
  </form>

  <div id="responseMessage" class="mt-4"></div>
</div>
    </form>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="./JS/form.js"></script>
<script>
  document.getElementById("companyForm").addEventListener("submit", async function (e) {
    e.preventDefault();

    const form = e.target;
    const formData = new FormData(form);
    const msg = document.getElementById("responseMessage");

    try {
      const res = await fetch("http://localhost:5229/api/DangKy/nop", {
        method: "POST",
        body: formData
      });

      if (!res.ok) {
        const errorText = await res.text();
        throw new Error("Lá»—i tá»« server: " + errorText);
      }

      const result = await res.json();
      msg.innerHTML = `<div class="alert alert-success">${result.message || "Gá»­i há»“ sÆ¡ thÃ nh cÃ´ng!"}</div>`;
      form.reset();
    } catch (err) {
      msg.innerHTML = `<div class="alert alert-danger">âŒ Lá»—i mÃ¡y chá»§ hoáº·c máº¡ng. Vui lÃ²ng thá»­ láº¡i.<br>${err.message}</div>`;
      console.error("âŒ Lá»—i fetch:", err);
    }
  });
</script>


</body>

</html>
